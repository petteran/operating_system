# 记录 X86 汇编语言 -- 从实模式到保护模式 学习记录
## 第一章 十六级进制计数法

​	在计算机里面,二进制数字对应着高低电平的组合.组成二进制的每一个数位,称为一个 bit(比特),8 个比特一个字节.

​	进位计数法: 符合的值和它在这个数中的位置有关.

### 1.1 二进制的特点

​	二进制是现代计算机的基础,一方面简化了硬件设计,只有 0 和 1 ,只要最少的元器件来接通或者关断就可,另一方面,二进制和我们熟悉的十进制有一对一的关系,任何的一个十进制数都对应着一个二进制数,不管有多大.缺点是: 数字越大,比特串就越长.

### 1.2 十六进制的特点

​	二进制的缺点就是写起来太长了,所以人们发明了十六进制.

​	4 比特的二进制,可以表示的数是 0000 到 1111  对应的十进制的 0 ~ 15,正好对应十六进制的 0 ~ F.

​	如果将一个二进制数从右向左,分为 4 位比特为一组的形式,分别将每一组的值转换成十六进制,就可以得到这个二进制对应的十六进制数.

## 第二章

### 2.1 处理器

处理器是一台电子计算机的核心,它会在振荡器脉冲的激励下,从内存中获取指令,并发起一系列该指令定义的操作,周而复始.

### 2.2 寄存器和算术逻辑部件

​	寄存器是双向器件,可以在一端接受输入并加以锁存,同时也会在另一端产生一模一样的输出.

8位寄存器可以容纳8比特,或者1字节,从右向左,最右边为最低位,最左边为最高为.2个字节 等于 1 个字 (word) , 4个字节 等于 双字 (double word)

### 2.3 内存储器

​	 内存储器 是计算机内部最主要的存储器,通常只和处理器相连,所以叫做内存储器或者主存储器,简称内存或主存.

### 2.4 指令和指令集

​	处理器的设计者用某些数来指示处理器所进行的操作,这称为指令 或者机器指令,一般有操作码和操作数组成,但也有少部分指令只有操作码.

​	指令执行和操作的对象是数,如果这个数已经在指令中给出,不需要再次访问内存,那这个数就是立即数.

​	一个处理器能够识别的指令的集合,叫做该处理器的指令集.

### 2.5 古老的 Intel 8086 处理器

8086 处理器内部有 8 个 16 位通用寄存器 : ```AX, BX, CX, DX, SI, DI, BP, SP.```

其中 前 4 个,即```AX,BX,CX,DX``` 可以拆分为 8 个 8位寄存器``` AH,AL, BH,BL, CH,CL, DH,DL.```

完成工作所有的指令,集中在一起,处于内存的某个位置,形成一个段,叫做代码段.

程序操作大量的数据,这些数据集中在一起,形成一个段,叫做数据段.

#### 内存分段机制

分段开始的地址称为段地址,它们的地址只相对于自己所在的段 ,它们相对于开始处的距离称为偏移地址.

## 第三章 安装NASM 

```
地址: https://www.nasm.us/pub/nasm/releasebuilds/?C=M;O=D
ubuntu : sudo apt-get install nasm
```

## 第四章 

### 4.1 磁盘

​	磁盘的磁头(盘面) 是从数字 0 开始编号, 每个盘面磁道从数字 0 开始编号的,每个磁道或柱面上的扇区从数字 1 开始 编号的,主引导扇区的位置是 0 面 0 道 1扇区.

### 4.2 虚拟机

```
VirtualBox: https://www.oracle.com/virtualization/technologies/vm/downloads/virtualbox-downloads.html
BookTools: http://www.lizhongc.com/index.php/91.html

```

## 第五章

### 5.1 主引导区

主引导区有512 字节,ROM-BIOS 程序将它加载到逻辑地址 ```0x0000 : 0x7c00 ```处,也就是物理地址 ```0x7c00```.一个有效的主引导地址的最后两个字节应当是 0x55 和 0xAA.ROM-BIOS 首先检测这两个标志,如果有效就使用 跳转指令 ```  0x0000 : 0x7c00``` 跳到那里继续执行

### 5.2 注释

注释必须以英文 ``` ; ``` 开始.

### 5.3 显卡和显存

文本模式和图形模式是显卡的两种基本工作模式.

在个人计算机使用的显卡,在加电自检都会把自己初始化到 ``` 80 X 25 ``` 的文本模式.在这种模式下可以显示 25 行, 每行  80 个字, 每屏总共 2000 个字符. ``` 0xB8000 ~ 0xBFFFF ``` 这段物理地址一直是留给显卡的,有显卡提供显示文本.

### 5.4 MOV 指令的格式

mov 指令用于数据传送,目的地操作数 相当于一个容器,,故必须是通用寄存器或者内存单元. 源操作数,也可以是和目的操作数一致数据宽度的通用寄存器或内存单元,还可以是立即数.传送指令只影响目的操作数的内容,不改变源操作数.
